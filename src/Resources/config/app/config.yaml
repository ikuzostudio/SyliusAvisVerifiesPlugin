
sylius_resource:
  resources:
    ikuzo_avis_verifies.channel_review:
      driver: doctrine/orm
      classes:
        model: Ikuzo\SyliusAvisVerifiesPlugin\Entity\ChannelReview
        interface: Ikuzo\SyliusAvisVerifiesPlugin\Entity\ChannelReviewInterface
        repository: Ikuzo\SyliusAvisVerifiesPlugin\Repository\ChannelReviewRepository

sylius_ui:
  events:
    sylius.admin.order.show.sidebar:
      blocks:
        avis_verifies:
          template: '@IkuzoSyliusAvisVerifiesPlugin/Order/Show/_avisverifies.html.twig'
          priority: 5
    sylius.admin.channel.form.second_column_content:
      blocks:
        avis_verifies:
          template: '@IkuzoSyliusAvisVerifiesPlugin/Channel/_form.html.twig'
          priority: 5

sylius_grid:
  grids:
    sylius_admin_order:
      filters:
        avisVerifiesEmailsSent:
          type: boolean
          label: ikuzo_avis_verifies.grid.filters.email_sent
    ikuzo_avis_verifies_channel_review:
      driver:
        options:
          class: "%ikuzo_avis_verifies.model.channel_review.class%"
      sorting:
        id: desc
      fields:
        id:
          type: string

winzou_state_machine:
  sylius_order:
    callbacks:
      after:
        sylius_send_avisverifies:
          on: ["fulfill"]
          do: ["@ikuzo_sylius_avis_verifies.event_listener.on_order_fulfilled", "sendToAvisVerifies"]
          args: ["object"]